(function(e){"use strict";class t{static init(e,o){t.RootUrl=e,t.Version=o}static login(e,o,r,n=null,s=null){if(!t.RootUrl)return void console.error("ZyNetUtil init\uff1aRootUrl \u672a\u521d\u59cb\u5316");if(!e)return void console.error("ZyNetUtil login\uff1acode \u4e0d\u80fd\u4e3a\u7a7a");o||console.warn("ZyNetUtil login\uff1ascene \u4e3a\u7a7a"),r||console.warn("ZyNetUtil login\uff1auid \u4e3a\u7a7a");var l=t.RootUrl+"&act=userinfo&code="+e+"&scene="+o;console.log("login path=",l);var i=new XMLHttpRequest;let a=l;i.open("GET",a),i.onreadystatechange=function(){if(4==i.readyState&&i.status>=200&&i.status<=207){var e=JSON.parse(i.responseText);t.OpenId=e.data.openid,console.log(i.responseText),n&&n(e.data)}},i.addEventListener("error",this,e=>{s&&s(e)}),i.send()}static leadOutList(e=null,o=null){if(console.log("\u62c9\u53d6\u5bfc\u51fa\u5217\u8868"),!t.RootUrl)return void console.error("ZyNetUtil init\uff1aRootUrl \u672a\u521d\u59cb\u5316");if(!t.OpenId)return void console.error("ZyNetUtil leadOutList\uff1aopenid \u4e0d\u80fd\u4e3a\u7a7a");var r=t.RootUrl+"&act=gamelist&version="+t.Version+"&openid="+t.OpenId;console.log("leadOutList path=",r);var n=new XMLHttpRequest;let s=r;n.open("GET",s),n.onreadystatechange=function(){if(4==n.readyState&&n.status>=200&&n.status<=207){var r=JSON.parse(n.responseText);console.log("res",r);for(var s=0;s<r.data.gamelist.length;s++)t.JumpList[s]=r.data.gamelist[s];console.log("ZyNetUtil.JumpList[i]",t.JumpList),1==r.result_code?e&&e(r.data):o&&(o(r.result_msg),console.error(r.result_msg))}},n.addEventListener("error",this,e=>{o&&o(e)}),n.send()}static getGameInfo(e,o,r){if(console.log("\u83b7\u53d6\u6e38\u620f\u76f8\u5173\u4fe1\u606f"),!t.RootUrl)return void console.error("ZyNetUtil init\uff1aRootUrl \u672a\u521d\u59cb\u5316");if(!t.OpenId)return void console.error("ZyNetUtil getVersionControlInfo\uff1aOpenId \u4e0d\u80fd\u4e3a\u7a7a");e||console.warn("ZyNetUtil getVersionControlInfo\uff1a\u4e3a\u7a7a");var n=t.RootUrl+"&act=user&openid="+t.OpenId+"&version="+t.Version+"&sence="+e;console.log("getVersionControlInfo path=",n);var s=new XMLHttpRequest;let l=n;s.open("GET",l),s.onreadystatechange=function(){if(4==s.readyState&&s.status>=200&&s.status<=207){console.log(s.responseText);let e=JSON.parse(s.responseText);o&&o(e.data)}},s.addEventListener("error",this,e=>{r&&r(e)}),s.send()}static getSwitch(e,o,r){if(console.log("\u83b7\u53d6\u7528\u6237\u5f00\u5173"),!t.RootUrl)return void console.error("ZyNetUtil init\uff1aRootUrl \u672a\u521d\u59cb\u5316");if(!t.OpenId)return void console.error("ZyNetUtil getVersionControlInfo\uff1aOpenId \u4e0d\u80fd\u4e3a\u7a7a");if(!t.Version)return void console.error("ZyNetUtil getVersionControlInfo\uff1aOpenId \u4e0d\u80fd\u4e3a\u7a7a");var n=t.RootUrl+"&act=user&version="+t.Version+"&openid="+t.OpenId+"&cj="+e;console.log("getSwitch",n);var s=new XMLHttpRequest;let l=n;s.open("GET",l),s.onreadystatechange=function(){if(4==s.readyState&&s.status>=200&&s.status<=207){console.log(s.responseText);let e=JSON.parse(s.responseText);o&&o(e.data)}},s.addEventListener("error",this,e=>{r&&r(e)}),s.send()}static gameStart(e=null,o=null){if(!t.RootUrl)return void console.error("ZyNetUtil init\uff1aRootUrl \u672a\u521d\u59cb\u5316");if(!t.OpenId)return void console.error("ZyNetUtil startGame\uff1aOpenId \u4e0d\u80fd\u4e3a\u7a7a");var r=t.RootUrl+"&act=index&openid="+t.OpenId;console.log("startGame path=",r);var n=new XMLHttpRequest;let s=r;n.open("GET",s),n.onreadystatechange=function(){if(4==n.readyState&&n.status>=200&&n.status<=207){console.log(n.responseText);let t=JSON.parse(n.responseText);1==t.result_code?e&&e(t.data):o&&o(t.result_msg)}},n.addEventListener("error",this,e=>{o&&o(e)}),n.send(r)}static gameOver(e,o,r=null,n=null){if(!t.RootUrl)return void console.error("ZyNetUtil init\uff1aRootUrl \u672a\u521d\u59cb\u5316");if(!t.OpenId)return void console.error("ZyNetUtil gameOver\uff1aOpenId \u4e0d\u80fd\u4e3a\u7a7a");var s=t.RootUrl+"&act=end&openid="+t.OpenId+"&level="+e+"&id="+o;console.log("gameOver path=",s);var l=new XMLHttpRequest;let i=s;l.open("GET",i),l.onreadystatechange=function(){if(4==l.readyState&&l.status>=200&&l.status<=207){console.log(l.responseText);let e=JSON.parse(l.responseText);console.info("gameOver \u4e0a\u62a5\u5b8c\u6210\uff1a",e),1==e.result_code?r&&r(e.data):n&&n(e.result_msg)}},l.addEventListener("error",this,e=>{console.info("gameOver \u4e0a\u62a5\u5931\u8d25\uff1a",e)}),l.send(s)}static uploadLeadOutClick(e,o=null,r=null){if(!t.RootUrl)return void console.error("ZyNetUtil init\uff1aRootUrl \u672a\u521d\u59cb\u5316");if(!t.OpenId)return void console.error("ZyNetUtil uploadLeadOutClick\uff1aOpenId \u4e0d\u80fd\u4e3a\u7a7a");if(!e)return void console.error("ZyNetUtil uploadLeadOutClick\uff1aleadout_id \u4e0d\u80fd\u4e3a\u7a7a");var n=t.RootUrl+"&act=game&openid="+t.OpenId+"&id="+e;console.log("uploadLeadOutClick path=",n);var s=new XMLHttpRequest;let l=n;s.open("GET",l),s.onreadystatechange=function(){if(4==s.readyState&&s.status>=200&&s.status<=207){let e=JSON.parse(s.responseText);console.info("uploadLeadOutClick \u4e0a\u62a5\u5b8c\u6210\uff1a",e),1==e.result_code?o&&o(e.data):r&&r(e.result_msg)}},s.addEventListener("error",this,e=>{console.info("uploadLeadOutClick \u4e0a\u62a5\u5931\u8d25\uff1a",e)}),s.send(l)}static uploadLeadOutSuccess(e){if(!t.RootUrl)return void console.error("ZyNetUtil init\uff1aRootUrl \u672a\u521d\u59cb\u5316");if(!t.OpenId)return void console.error("ZyNetUtil uploadLeadOutSuccess\uff1aOpenId \u4e0d\u80fd\u4e3a\u7a7a");if(!e)return void console.error("ZyNetUtil uploadLeadOutSuccess\uff1aleadout_id \u4e0d\u80fd\u4e3a\u7a7a");var o=t.RootUrl+"&act=cgame&openid="+t.OpenId+"&id="+e;console.log("uploadLeadOutSuccess path=",o);var r=new XMLHttpRequest;let n=o;r.open("GET",n),r.onreadystatechange=function(){if(4==r.readyState&&r.status>=200&&r.status<=207){let e=JSON.parse(r.responseText);console.info("uploadLeadOutSuccess \u4e0a\u62a5\u5b8c\u6210\uff1a",e)}},r.addEventListener("error",this,e=>{console.info("uploadLeadOutSuccess \u4e0a\u62a5\u5931\u8d25\uff1a",e)}),r.send(o)}}t.RootUrl="https://zy.qkxz.com/WxApi/?webid=112",t.Version="108",t.OpenId="",t.JumpList=[],e.ZyNetUtil=t})(window);